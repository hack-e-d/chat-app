(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{23:function(e,t,n){},25:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var s=n(3),a=n.n(s),c=n(15),r=n.n(c),i=(n(23),n(13)),o=n.n(i),l=n(16),u=n(10),d=(n(25),n(9)),h=(n(31),n(27),n(17)),p=n(18),j=n(4);d.a.initializeApp({apiKey:"AIzaSyDv4eIm0SfXyMAjLk4yrUqfpUWm-MFQwVI",authDomain:"chat-app-68e88.firebaseapp.com",projectId:"chat-app-68e88",storageBucket:"chat-app-68e88.appspot.com",messagingSenderId:"1005851949167",appId:"1:1005851949167:web:48098fd9ae73793ff1359a",measurementId:"G-VPPR6P8DEZ"});var b=d.a.auth(),m=d.a.firestore();function x(){return Object(j.jsxs)("div",{className:"flex flex-col h-screen items-center justify-center",children:[Object(j.jsxs)("button",{className:"mt-auto bg-white outline-none focus:outline-none p-2 m-3 border-b-4 border-gray-500 hover:bg-gray-200 hover:border-gray-500 transition-all duration-75 ease-in-out rounded inline-flex items-center",onClick:function(){var e=new d.a.auth.GoogleAuthProvider;b.signInWithPopup(e)},children:[Object(j.jsx)("img",{className:"w-5 mr-2 block",src:"/chat-app/google-icon.svg",alt:"Google Icon"}),Object(j.jsx)("span",{className:"block",children:"Sign In With Google"})]}),Object(j.jsx)("p",{className:"text-white text-opacity-50 text-center hover:text-opacity-100 text-sm",children:"'cause I was too lazy to set up a better auth system "}),Object(j.jsxs)("p",{className:"justify-self-end mt-auto text-white text-center text-opacity-50 hover:text-opacity-100",children:["Made by ",Object(j.jsx)("a",{className:"hover:text-yellow-500",href:"https://github.com/hack-e-d",children:"VijayPV"})," w/ inspiration from ",Object(j.jsx)("a",{className:"hover:text-red-500",href:"https://www.youtube.com/channel/UCsBjURrPoezykLs9EqgamOA",children:"\ud83d\udd25Fireship"})]})]})}function f(){return b.currentUser&&Object(j.jsx)("div",{className:"w-full",children:Object(j.jsx)("button",{className:"absolute hover:shadow-xl hover:text-pink-900 transition-all duration-75 ease-in-out rounded-full p-2 bg-white signout-btn material-icons",onClick:function(){return b.signOut()},children:"exit_to_app"})})}function g(){var e=Object(s.useRef)(),t=m.collection("messages"),n=t.orderBy("createdAt","asc").limitToLast(25),a=Object(p.a)(n,{idField:"id"}),c=Object(u.a)(a,1)[0],r=Object(s.useState)(""),i=Object(u.a)(r,2),h=i[0],x=i[1];Object(s.useEffect)((function(){e.current.scrollIntoView({behavior:"smooth"})}),[c]);var f=function(){var n=Object(l.a)(o.a.mark((function n(s){var a,c,r,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s.preventDefault(),a=b.currentUser,c=a.displayName,r=a.uid,i=a.photoURL,n.next=4,t.add({user:c,body:h,createdAt:d.a.firestore.FieldValue.serverTimestamp(),uid:r,photoURL:i});case 4:x(""),e.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"chat-bg w-full sm:w-2/3 p-2 rounded",style:{padding:"2rem"},children:[Object(j.jsxs)("div",{className:"overflow-y-auto h-screen-90",children:[c&&c.map((function(e){return Object(j.jsx)(O,{message:e},e.id)})),Object(j.jsx)("span",{ref:e})]}),Object(j.jsxs)("form",{onSubmit:f,className:"pt-3 w-full inline-flex",children:[Object(j.jsx)("input",{className:"rounded-3xl px-3 w-full py-1 outline-none focus:shadow",value:h,onChange:function(e){return x(e.target.value)},placeholder:"Say something"}),Object(j.jsx)("button",{className:"material-icons p-2 mx-2 bg-white rounded-full transition-all duration-75 ease-in-out text-xl ".concat(!h||"text-pink-700 hover:text-pink-900"),type:"submit",disabled:!h,children:"send"})]})]})}function O(e){var t=e.message,n=t.user,s=t.body,a=t.uid,c=t.photoURL,r=(t.createdAt,b.currentUser.uid,b.currentUser.uid,a===b.currentUser.uid?"right":"left");return Object(j.jsxs)("div",{className:"chat-container ".concat(r),children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:c||"https://i.imgur.com/rFbS5ms.png",alt:"{user}'s pfp"})}),Object(j.jsxs)("div",{className:"msg-container",children:[Object(j.jsx)("p",{className:"text-xs",children:n}),Object(j.jsx)("p",{children:s})]})]})}var v=function(){var e=Object(h.a)(b),t=Object(u.a)(e,1)[0];return Object(j.jsxs)("div",{className:"App border-bg h-screen",children:[Object(j.jsx)(f,{}),Object(j.jsx)("section",{className:"flex justify-center items-center h-screen",children:t?Object(j.jsx)(g,{}):Object(j.jsx)(x,{})})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),y()}},[[30,1,2]]]);
//# sourceMappingURL=main.a9fc354b.chunk.js.map